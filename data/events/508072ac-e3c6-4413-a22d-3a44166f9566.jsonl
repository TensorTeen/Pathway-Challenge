{"ts": 1758031198.7863808, "event": "job_started", "data": {}}
{"ts": 1758031198.786572, "event": "info", "data": {"message": "qa_loop_start", "question": "What are the major risks of Google ?"}}
{"ts": 1758031199.8253934, "event": "error", "data": {"message": "qa_failed", "error": "1 validation error for EnsembleRetriever\nretrievers.1\n  Input should be an instance of Runnable [type=is_instance_of, input_value=<app.stores.langchain_sto...bject at 0x78ccabaf1cd0>, input_type=LangChainStore._build_retriever.<locals>.DenseWrapper]\n    For further information visit https://errors.pydantic.dev/2.11/v/is_instance_of", "traceback": "Traceback (most recent call last):\n  File \"/workspaces/Pathway-Challenge/app/api/server.py\", line 108, in task\n    trace = qa.run(req.question)\n            ^^^^^^^^^^^^^^^^^^^^\n  File \"/workspaces/Pathway-Challenge/app/services/qa_loop.py\", line 86, in run\n    docs = self.store.retrieve_docs(reformulated, settings.top_k_docs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/workspaces/Pathway-Challenge/app/stores/main_store.py\", line 194, in retrieve_docs\n    return self.lc_store.retrieve_docs(query, top_k)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/workspaces/Pathway-Challenge/app/stores/langchain_store.py\", line 188, in retrieve_docs\n    self._ensure()\n  File \"/workspaces/Pathway-Challenge/app/stores/langchain_store.py\", line 177, in _ensure\n    self._doc_retriever = self._build_retriever(self._docs_texts)\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/workspaces/Pathway-Challenge/app/stores/langchain_store.py\", line 172, in _build_retriever\n    ensemble = EnsembleRetriever(retrievers=[bm25, dense_retr], weights=[0.4, 0.6])\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/python/3.12.1/lib/python3.12/site-packages/langchain_core/load/serializable.py\", line 115, in __init__\n    super().__init__(*args, **kwargs)\n  File \"/usr/local/python/3.12.1/lib/python3.12/site-packages/pydantic/main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for EnsembleRetriever\nretrievers.1\n  Input should be an instance of Runnable [type=is_instance_of, input_value=<app.stores.langchain_sto...bject at 0x78ccabaf1cd0>, input_type=LangChainStore._build_retriever.<locals>.DenseWrapper]\n    For further information visit https://errors.pydantic.dev/2.11/v/is_instance_of\n"}}
